"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8913],{15385:function(e,t,i){i.d(t,{Z:function(){return p}});var n=i(35250),l=i(29633),s=i(70079),a=i(14899);let o=l.Z.MenuItem;var r=i(3997),d=i.n(r),c=i(82053),u=i(63081);let x=c.n6.desktops[0];var m=i(29500),v=i(66494);let g=e=>{let{children:t,...i}=e;return(0,n.jsx)(l.Z,{closeOnOutsideClick:!0,...i,children:(0,n.jsx)("div",{className:"u-position-relative u-cursor-default",children:t})})};g.Content=e=>{let{children:t,isWide:i,isRounded:o,forceVisibility:r,alignment:c="right",noShadow:m}=e,[v,g]=(0,s.useState)("left"===c),{isVisible:p,containerRef:Z}=(0,s.useContext)(a.K),j=!r&&!p;(0,s.useLayoutEffect)(()=>{if(!j&&(null==Z?void 0:Z.current)){if("dynamic"===c){g(Z.current.getBoundingClientRect().x+((0,u.wi)()>=x?300:80)<(0,u.wi)()/2);return}g("left"===c)}},[j,c,Z]);let h=d()("dropdown-menu",{"dropdown-menu--shadow":!m,"dropdown-wide dropdown--fixed-width":i,"dropdown-menu--rounded":o,"dropdown-menu--align-left":v});return j?null:(0,n.jsx)(l.Z.Menu,{children:()=>(0,n.jsx)("div",{className:h,children:t})})},g.ContentItem=o,g.ContentDescription=e=>{let{text:t}=e;return(0,n.jsx)(m.Z,{body:(0,n.jsx)(v.Z,{type:v.Z.Type.Subtitle,as:"p",text:t})})},g.Toggle=e=>{let{children:t}=e,{toggle:i,isVisible:n}=(0,s.useContext)(a.K);return t({toggle:i,isDropdownVisible:n})};var p=g},6844:function(e,t,i){i.d(t,{Z:function(){return eS}});var n=i(35250),l=i(3997),s=i.n(l),a=i(49370),o=i(29500),r=i(28211),d=i(66494),c=i(93766),u=i(79356),x=i(29962),m=i(3283),v=i(14217),g=i(57158),p=i(8951),Z=i(52058),j=i(70988);let h=e=>`${e}_test_exposed_day`;var f=e=>{let{abTestName:t,oncePerSessionDay:i}=e,{track:n}=(0,g.Z)(),l=(0,m.v9)(p.WR),s=(0,m.v9)((0,Z.uw)(t));return{trackExpose:()=>{if(s){if(i){let e=h(t),i=new Date().toLocaleDateString();if((0,j.St)(e)===i)return;(0,j.D9)(e,i)}n((0,v.Nr)({...l,...s}))}}}},b=i(71718),y=i(68039),C=i.n(y),_=i(42875);let I="ivs_badge_test_exposed_day";var S=e=>{let{children:t,iconBadges:i}=e,{track:l}=(0,g.Z)(),s=(0,m.v9)(p.WR),a=(0,m.v9)((0,Z.uw)("ivs_badge")),o=(0,m.v9)((0,_.z)("web_ivs_badge_exposure_tracking")),r=!C()(i);return a&&r&&o?(0,n.jsx)(u.df,{onChange:e=>{if(!e)return;let t=new Date().toLocaleDateString();(0,j.St)(I)!==t&&((0,j.D9)(I,t),l((0,v.Nr)({...s,...a})))},children:t}):t},w=i(24886),k=e=>{let{title:t,subtitle:i,testId:l}=e;return(0,n.jsxs)(o.Z,{styling:o.Z.Styling.Tight,testId:(0,x.l)(l,"description"),children:[(0,n.jsx)("div",{className:"new-item-box__description",children:(0,n.jsx)(d.Z,{text:t,type:d.Z.Type.Caption,testId:(0,x.l)(l,"description-title"),as:"p"})}),(0,n.jsx)("div",{className:"new-item-box__description",children:(0,n.jsx)(d.Z,{text:i,type:d.Z.Type.Caption,testId:(0,x.l)(l,"description-subtitle"),as:"p"})})]})},N=e=>{let{name:t,image:i,url:l,alt:s,urlProps:r,testId:c}=e;return(0,n.jsx)("div",{"data-testid":(0,x.l)(c,"owner"),children:(0,n.jsx)(o.Z,{styling:o.Z.Styling.Narrow,prefix:(0,n.jsx)(a.U,{src:i,alt:s,styling:a.U.Styling.Circle,size:a.U.Size.Regular,testId:(0,x.l)(c,"owner-image")}),url:l,urlProps:r,children:(0,n.jsx)("div",{className:"u-flexbox",children:(0,n.jsx)(d.Z,{text:t,type:d.Z.Type.Caption,testId:(0,x.l)(c,"owner-name"),as:"p"})})})})},T=e=>{let{theme:t,content:i,suffix:l,testId:s,className:a,onClick:r}=e;return(0,n.jsx)("div",{className:a,"data-testid":(0,x.l)(s,"status"),children:(0,n.jsx)(o.Z,{suffix:l,styling:o.Z.Styling.Narrow,theme:t,clickable:!!r,onClick:e=>{r&&(e.preventDefault(),e.stopPropagation(),r())},children:(0,n.jsx)(d.Z,{text:i,type:d.Z.Type.Caption,theme:"inverse",testId:(0,x.l)(s,"status-text"),as:"p"})})})},D=i(70079),P=i(62278),z=i(18338),U=i(65529),F=i(79852),B=i(82599),$=i(81518),M=i(14475),O=i(65507),E=i(28067),R=i(63081),K=i(53677),W=i(98170);let V=e=>e[W.A],L=e=>V(e).homepageSessionId;var Q=i(98189),A=i(4413),J=i(4948),q=i(42491),G=i(73674),X=i(8547),Y=i(53067),H=i(1699);let ee=(e,t,i)=>{let n=RegExp(`(\\{${t}\\})`,"g"),l=e.split(n);for(let e=1;e<l.length;e+=2)l[e]=i;return l},et=e=>e===`${G.Z.Title}${G.Z.Size}`?G.Z:e===`${X.Z.Title}${X.Z.Size}`?X.Z:e===`${Y.Z.Title}${Y.Z.Size}`?Y.Z:e===`${H.Z.Title}${H.Z.Size}`?H.Z:null;var ei=e=>{let{iconBadge:t,prefix:i}=e,{title:l,description:s,linkText:a,verificationFee:r}=t,{track:c}=(0,g.Z)(),[u,x]=(0,D.useState)(!1),p=(0,m.v9)(q.K),Z=ee(s,"link",(0,n.jsx)("span",{onClick:()=>{x(!0),c((0,v.Q5)({target:z.U.PhysicalAuthenticityBuyer,screen:"icons_explanation"}))},children:(0,n.jsx)(d.Z,{text:a,as:"a",clickable:!0})}));return(0,n.jsx)(o.Z,{prefix:i,title:l,body:(0,n.jsxs)(n.Fragment,{children:[Z.map((e,t)=>(0,n.jsx)("span",{children:e},`icon-description-element-${t}`)),(0,n.jsx)(A.Z,{show:u,onClose:()=>{x(!1)},verificationFee:r&&(0,J.ZO)(r,p)})]})})},en=i(44975),el=i(82999),es=function(e,t){let[i,n]=(0,D.useState)([]),[l,s]=(0,D.useState)(void 0),[a,o]=(0,D.useState)(!1),[r,d]=(0,D.useState)(!1);return(0,D.useEffect)(()=>{async function i(){let t=await (0,en.m$V)(e);if("errors"in t){d(!0);return}let i=(0,el.xW)(t.item_badges_explanation);n(i.iconBadges),s({title:i.title,brandDetails:i.brand,size:i.sizeTitle,photo:i.photo}),o(!0)}t||o(!1),t&&i()},[t,e]),{iconBadges:i,itemDetails:l,isOpen:a,isNotificationDisplayed:r,handleNotificationClose:()=>{d(!1)}}},ea=e=>{let{show:t,onClose:i,itemId:l,onItemClick:s}=e,r=(0,M.Z)("item_box.icons_explanation_modal"),c=(0,M.Z)("errors"),u=(0,O.Z)(),x=(0,m.v9)(L),{iconBadges:v,isNotificationDisplayed:g,isOpen:p,itemDetails:Z,handleNotificationClose:j}=es(l,t),h=u.phones?{}:{width:"343px"};return(0,n.jsxs)("div",{onClick:e=>{e.stopPropagation()},children:[(0,n.jsxs)(U.Z,{isFramed:!1,show:p,testId:"icons-explanation-modal",contentDimensions:h,defaultCallback:i,closeOnOverlay:!0,children:[(0,n.jsx)(F.Z,{body:r("navigation_title"),right:(0,n.jsx)(B.IM,{inline:!0,iconName:$.Z,styling:B.IM.Styling.Flat,onClick:i,testId:"icons-explanation-modal-navigation-close-button"})}),(0,n.jsxs)("div",{className:"new-item-box_icons-explanation-modal-body",children:[(0,n.jsx)(o.Z,{prefix:(0,n.jsx)(a.U,{size:a.U.Size.X2Large,ratio:a.U.Ratio.SmallPortrait,src:null==Z?void 0:Z.photo.url}),title:(0,n.jsx)("p",{className:"new-item-box_icons-explanation-modal-title",children:null==Z?void 0:Z.title}),body:(0,n.jsxs)("span",{children:[(null==Z?void 0:Z.size)&&(0,n.jsx)(d.Z,{text:`${Z.size} \xb7`})," ",(0,n.jsx)("span",{onClick:()=>{(null==Z?void 0:Z.brandDetails)&&(0,R.ru)(Z.brandDetails.url)},children:(0,n.jsx)(d.Z,{text:null==Z?void 0:Z.brandDetails.title,underline:!0,as:"a"})})]})}),v.length?v.map(function(e){let t=et(e.icon);return t?(0,n.jsx)(ei,{iconBadge:e,prefix:(0,n.jsx)(P.Z,{name:t})},e.icon):null}):null]}),(0,n.jsx)(o.Z,{body:(0,n.jsx)(B.IM,{text:r("actions.see_item_details_cta"),styling:B.IM.Styling.Filled,testId:"icons-explanation-modal-button",onClick:s,url:x?`${(0,E.DWf)(l)}?${(0,Q.Kf)({homepage_session_id:x})}`:(0,E.DWf)(l)})})]}),g&&(0,n.jsx)(K.ZP,{body:c("generic"),onClose:j,testId:"icons-explanation-modal-error-notification"})]})};let eo=e=>{let{element:t,itemId:i,onItemClick:l}=e,[s,a]=(0,D.useState)(!1),{track:o}=(0,g.Z)();return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{onClick:e=>{a(!0),o((0,v.Q5)({target:z.U.IconsExplanation})),e.preventDefault(),e.stopPropagation()},"data-testid":"clickable-icon",children:t}),(0,n.jsx)(ea,{show:s,onClose:()=>{a(!1)},itemId:i,onItemClick:l})]})};var er=e=>{let{iconBadges:t,testId:i,itemId:l,onItemClick:s}=e;return(null==t?void 0:t.length)?t.map(e=>{var t;let a=et(e.iconBig);return a?(0,n.jsx)("div",{"data-testid":(0,x.l)(i,`overlay-icon-${e.iconBig}`),className:"new-item-box__overlay-icon",children:(null===(t=e.label)||void 0===t?void 0:t.includes("Bump"))?(0,n.jsx)(P.Z,{name:a}):(0,n.jsx)(eo,{element:(0,n.jsx)(P.Z,{name:a}),itemId:l,onItemClick:s})},e.iconBig):null}):null},ed=i(55657),ec=i(56790),eu=i(80133),ex=i(15385),em=i(29633),ev=i(43474),eg=i(94440),ep=i(79699),eZ=i(48417);let ej="dislike_the_brand";var eh=i(90099),ef=i(50536),eb=i(14986);let ey=e=>{let{brandTitle:t,uiState:i,onClose:l,position:s}=e,a=(0,M.Z)("item.context_menu"),o={displayDuration:5,onNotificationClose:l,suffix:!1,position:s};return i===eZ.C.Failure?(0,n.jsx)(K.ZP,{body:a("dislike_the_brand.error"),icon:(0,n.jsx)(P.Z,{name:eh.Z,color:P.Z.Color.Warning}),...o}):(0,n.jsx)(K.ZP,{body:a("dislike_the_brand.success",{brand:t}),icon:(0,n.jsx)(P.Z,{name:ef.Z,color:P.Z.Color.Success}),...o})};ey.Position=eb.E;var eC=()=>{let[e,t]=(0,D.useState)(eZ.C.Idle),{track:i}=(0,g.Z)();return{dislikeBrand:async n=>{e!==eZ.C.Pending&&(i((0,v.Q5)({targetDetails:JSON.stringify({item_id:String(n)}),target:z.U.DislikeTheBrand,screen:ep.l.ItemBoxMenu})),t(eZ.C.Pending),t("errors"in await (0,en.oti)(n)?eZ.C.Failure:eZ.C.Success))},closeDislikeBrandNotification:()=>{t(eZ.C.Idle)},dislikeBrandState:e}};let e_=e=>(0,n.jsx)("div",{className:"new-item-box__menu-button",children:(0,n.jsx)(B.IM,{styling:B.IM.Styling.Flat,iconName:ec.Z,iconColor:P.Z.Color.GreyscaleLevel7,...e})});var eI=e=>{let{brandTitle:t,itemId:i}=e,l=(0,M.Z)("item.context_menu"),s=(0,O.Z)(),{track:a}=(0,g.Z)(),{dislikeBrand:o,closeDislikeBrandNotification:r,dislikeBrandState:c}=eC(),u=c===eZ.C.Success||c===eZ.C.Failure,x=(e,t)=>{t.stopPropagation(),t.preventDefault(),o(i)},m=(e,t)=>n=>{n.stopPropagation(),n.preventDefault(),c!==eZ.C.Pending&&(e(),t||a((0,v.Q5)({targetDetails:JSON.stringify({item_id:String(i)}),target:z.U.ItemBoxContextMenu,screen:ep.l.ItemBoxMenu})))},p=e=>c===eZ.C.Pending?(0,n.jsx)(eg.Z,{testId:"content-loader"}):c===eZ.C.Idle?(0,n.jsx)(e,{id:ej,onClick:x,prefix:(0,n.jsx)(P.Z,{name:eu.Z,color:P.Z.Color.Warning}),body:(0,n.jsx)(d.Z,{truncate:!0,bold:!0,as:"span",theme:"amplified",children:l("dislike_the_brand.title",{brand:t})})}):null,Z=e=>{e.stopPropagation(),e.preventDefault()};return s.phones?(0,n.jsxs)(em.Z,{onClick:Z,children:[(0,n.jsx)(em.Z.Toggle,{children:e=>{let{toggle:t,isVisible:i}=e;return(0,n.jsx)(e_,{onClick:m(t,i),aria:{"aria-label":l("a11y.actions.open")}})}}),(0,n.jsx)(em.Z.Menu,{children:e=>{let{close:t,isVisible:i}=e;return(0,n.jsxs)(ed.Z,{isVisible:c!==eZ.C.Pending&&i,onClose:t,closeButtonEnabled:!0,closeOnOverlayClick:!0,a11yCloseIconTitle:l("a11y.actions.close"),testId:"item-box-menu-bottom-sheet",children:[(0,n.jsx)(ex.Z.ContentDescription,{text:l("description")}),p(em.Z.MenuItem)]})}}),u&&(0,n.jsx)(ev.Z,{onOutsideClick:r,children:(0,n.jsx)(ey,{brandTitle:t,uiState:c,onClose:r})})]}):(0,n.jsxs)(ex.Z,{onClick:Z,children:[(0,n.jsx)(ex.Z.Toggle,{children:e=>{let{toggle:t,isDropdownVisible:i}=e;return(0,n.jsx)(e_,{onClick:m(t,i),aria:{"aria-label":l(`a11y.actions.${i?"close":"open"}`)}})}}),(0,n.jsxs)(ex.Z.Content,{isWide:!0,isRounded:!0,alignment:"dynamic",forceVisibility:c===eZ.C.Pending,children:[(0,n.jsx)(ex.Z.ContentDescription,{text:l("description")}),p(ex.Z.ContentItem)]}),u&&(0,n.jsx)(ex.Z.Content,{isWide:!0,alignment:"dynamic",forceVisibility:!0,noShadow:!0,children:(0,n.jsx)(ev.Z,{onOutsideClick:r,children:(0,n.jsx)(ey,{brandTitle:t,uiState:c,onClose:r,position:ey.Position.Parent})})})]})},eS=e=>{var t;let{price:i,favourite:l,oldPrice:m,url:v,urlTitle:g,badge:p,owner:Z,description:j,image:h,imageColor:y,imageRatio:C=a.U.Ratio.Portrait,imagesExperimental:_,imagesExperimentalOverlayDisabled:I=!1,alt:D,renderFavourite:P,renderFooter:z,iconBadges:U,renderBreakdownExperimental:F,onClick:B,status:$,bumpText:M,testId:O,secondaryBadgeExperimental:E,informationCellCssClasses:R,id:K,brandTitle:W,menuOptions:V}=e,L=(0,b.Z)({abTestName:"ivs_badge"}),Q=(0,b.Z)({abTestName:"bump_recommendations"}),A=(0,b.Z)({abTestName:ej}),J=(null===(t=(0,b.Z)({abTestName:"buyer_domain_holdout_2024q1"}))||void 0===t?void 0:t.variant)!=="off",{trackExpose:q}=f({abTestName:ej,oncePerSessionDay:!0}),G=(null==V?void 0:V.some(e=>e.type===ej))&&!!A&&J,X=G&&(null==A?void 0:A.variant)==="on",{ref:Y}=(0,u.YD)({onChange:e=>{e&&G&&q()}}),H=(null==L?void 0:L.variant)==="a"&&U,ee=Q&&(null==Q?void 0:Q.variant)!=="off"&&U,et=()=>(0,n.jsx)("div",{"data-testid":(0,x.l)(O,"badge-container"),children:(0,n.jsx)(o.Z,{styling:o.Z.Styling.Narrow,theme:"transparent",children:(0,n.jsxs)("div",{className:"u-flexbox u-flex-direction-column u-align-items-flex-start u-gap-small",children:[p?(0,n.jsx)(r.Z,{testId:(0,x.l)(O,"badge"),...p}):null,E?(0,n.jsx)(r.Z,{testId:(0,x.l)(O,"secondary-badge"),...E}):null,(ee||H)&&(0,n.jsx)(er,{iconBadges:U,testId:O,itemId:Number(K),onItemClick:B})]})})}),ei=()=>{let e=p||E||U;return(0,n.jsxs)(n.Fragment,{children:[e&&et(),$?(0,n.jsx)(T,{testId:O,...$}):null]})},en=s()("new-item-box__overlay",{"new-item-box__overlay--clickable":!!B||!!v,"new-item-box__overlay--gradient":(null==A?void 0:A.variant)==="on"});return(0,n.jsx)(S,{iconBadges:U,children:(0,n.jsxs)("div",{className:"new-item-box__container","data-testid":O,ref:G?Y:null,children:[Z?(0,n.jsx)(N,{testId:O,...Z}):null,(0,n.jsxs)("div",{className:"u-position-relative u-min-height-none u-flex-auto",children:[(()=>{if(!_||_.length<3)return null;let e=_.length>3&&!I,t=_.length-3+1;return(0,n.jsxs)("div",{className:"new-item-box__collage","data-testid":(0,x.l)(O,"collage"),children:[(0,n.jsx)("div",{className:"new-item-box__image collage--image-1",children:(0,n.jsx)(a.U,{src:_[0],scaling:a.U.Scaling.Cover,ratio:C,color:y,alt:D,testId:(0,x.l)(O,"image-1")})}),(0,n.jsx)("div",{className:"new-item-box__image collage--image-2",children:(0,n.jsx)(a.U,{src:_[1],scaling:a.U.Scaling.Cover,ratio:C,color:y,alt:D,testId:(0,x.l)(O,"image-2")})}),(0,n.jsxs)("div",{className:"new-item-box__image collage--image-3",children:[(0,n.jsx)(a.U,{src:_[2],scaling:a.U.Scaling.Cover,ratio:C,color:y,alt:D,testId:(0,x.l)(O,"image-3")}),e?(0,n.jsx)("div",{className:"new-item-box__image-overlay",children:(0,n.jsx)(d.Z,{type:d.Z.Type.Heading,theme:"inverse",text:`+${t}`,as:"span"})}):null]})]})})()||(0,n.jsx)("div",{className:"new-item-box__image",children:(0,n.jsx)(a.U,{src:h,scaling:a.U.Scaling.Cover,ratio:C,color:y,alt:D,testId:(0,x.l)(O,"image")})}),v?(0,n.jsx)("a",{href:v,className:en,onClick:B,"data-testid":(0,x.l)(O,"overlay-link"),title:g,children:ei()}):(0,n.jsx)("div",{className:en,onClick:B,"aria-hidden":"true",children:ei()}),X&&(0,n.jsx)("div",{className:"u-position-absolute u-right u-top",children:(0,n.jsx)(eI,{brandTitle:W,itemId:K})})]}),(0,n.jsx)("div",{className:R,children:(0,n.jsxs)(o.Z,{styling:R?o.Z.Styling.Tight:o.Z.Styling.Narrow,children:[(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{styling:o.Z.Styling.Tight,suffix:l?P?P({favourite:l}):(0,n.jsx)(w.Z,{testId:O,...l}):null,children:(0,n.jsx)("div",{className:"new-item-box__title","data-testid":(0,x.l)(O,"title-container"),children:(0,n.jsxs)("div",{className:"title-content",children:[(0,n.jsx)(d.Z,{text:i,type:d.Z.Type.Subtitle,theme:"amplified",bold:!0,testId:(0,x.l)(O,"price-text"),as:"p"}),m?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Z,{orientation:c.Z.Orientation.Vertical,size:c.Z.Size.Small}),(0,n.jsx)(d.Z,{text:m,type:d.Z.Type.Subtitle,theme:"muted",strikethrough:!0,truncate:!0,testId:(0,x.l)(O,"old-price-text"),as:"p"})]}):null]})})}),(0,n.jsxs)("div",{className:"u-flexbox u-align-items-flex-end",children:[(0,n.jsxs)("div",{className:"u-min-width-none u-flex-grow",children:[F?(0,n.jsxs)("div",{"data-testid":(0,x.l)(O,"breakdown"),children:[F,(0,n.jsx)(c.Z,{size:c.Z.Size.Small})]}):null,j&&(0,n.jsx)(k,{testId:O,...j})]}),M?(0,n.jsx)("div",{className:"u-padding-left-small",children:(0,n.jsx)(d.Z,{text:M,theme:"amplified",type:d.Z.Type.Caption,testId:(0,x.l)(O,"bump-text"),as:"p"})}):null]})]}),z&&(0,n.jsxs)("div",{"data-testid":(0,x.l)(O,"footer"),children:[(0,n.jsx)(c.Z,{}),z]})]})})]})})}},24886:function(e,t,i){var n=i(35250),l=i(415),s=i.n(l),a=i(62278),o=i(93766),r=i(66494),d=i(57725),c=i(40536),u=i(7461),x=i(29962);t.Z=e=>{let{favourited:t=!1,count:i=0,onClick:l,titleIcon:m,ariaIcon:v,experimentalIndicator:g,testId:p}=e,Z=s()("u-flexbox u-align-items-center",{"u-cursor-pointer":!!l});return(0,n.jsxs)("div",{className:Z,role:"button",tabIndex:0,onClick:l,onKeyDown:e=>(0,u.D)(e,l),"data-testid":(0,x.l)(p,"favourite"),children:[g||(0,n.jsx)(a.Z,{name:t?d.Z:c.Z,color:t?a.Z.Color.Warning:a.Z.Color.GreyscaleLevel5,title:m,aria:v,testId:t?"favourite-filled-icon":"favourite-icon"}),(0,n.jsx)(o.Z,{orientation:o.Z.Orientation.Vertical,size:o.Z.Size.XSmall}),(0,n.jsx)(r.Z,{type:r.Z.Type.Caption,text:i,testId:(0,x.l)(p,"favourite-count"),as:"span"})]})}},98913:function(e,t,i){i.d(t,{Z:function(){return _}});var n=i(35250),l=i(3283),s=i(48484),a=i(57158),o=i(14475),r=i(18338),d=i(5678),c=i(14217),u=i(4948),x=i(68606),m=i(24886),v=i(66835),g=e=>{let{favourite:t}=e,i=(0,v.Z)("/assets/animations");return(0,n.jsx)(m.Z,{...t,experimentalIndicator:function(){if(t.favourited)return(0,n.jsx)(x.Z,{size:x.Z.Size.Small,animationUrl:i("pride-heart.json"),aria:t.ariaIcon,testId:t.testId?`${t.testId}--favourite-icon`:void 0,loop:!1})}()})},p=i(60374),Z=i(6844),j=i(8951),h=i(42491),f=i(42875),b=i(97265),y=i(47545),C=i(98189),_=e=>{var t,i,x,m;let{item:v,onClick:_,renderFooter:I,testId:S,url:w,showOwner:k=!0,showStatus:N=!1,showStatusAsBadge:T=!1,showFavourite:D=!0,viewingSelf:P=!1,isUrlDisabled:z=!1,showItemFeeBreakdown:U=!0,onFavouriteToggle:F,hideBusinessBadge:B,showPhotoCollage:$,isDescriptionHidden:M,imagesExperimentalOverlayDisabled:O,imageRatio:E,informationCellCssClasses:R,collectionTitle:K,isBumpTextHidden:W=!1}=e,V=(0,o.Z)(),{track:L}=(0,a.Z)(),Q=(0,l.v9)(j.l3),A=(0,l.v9)(h.K),J=null!==(x=null===(t=(0,l.v9)(j.PR))||void 0===t?void 0:t.is_god)&&void 0!==x&&x,q=(0,l.v9)(j.Uq),G=null!==(m=null===(i=(0,l.v9)(j.PR))||void 0===i?void 0:i.moderator)&&void 0!==m&&m,X=(0,l.v9)((0,f.z)("pride_favourite_button")),Y=(0,l.v9)((0,f.z)("favourite_button_aria_label_with_count")),H=(0,l.v9)((0,f.z)("item_url_origin_mapper")),ee=D&&!P&&!Q,et=P||J||G,ei=U&&!!v.serviceFee&&!P,{isFavourite:en,favouriteCount:el,toggleFavourite:es,hasFavouritedChanged:ea}=(0,s.Z)({type:s.Z.Type.Item,entityId:v.id,isFavourite:v.isFavourite,count:v.favouriteCount}),eo=()=>{if(K)return{content:V("item.status.in_collection",{name:K}),theme:"amplified"};let e=N?(0,d.dp)(v,et):null,t=(0,d.YM)(e);return t?{content:V(String(t.content)),theme:t.theme}:null},er=e=>{e&&(0,b.O)({event:y.xy.AddedToFavourites,modelId:v.id,userExternalId:q})},ed=()=>{F?F({itemId:v.id,itemContentSource:v.contentSource,isFollowEvent:!en}):(L((0,c.Q5)({target:r.U.Favourite})),L((0,c.PJ)({itemId:v.id,isFollowEvent:!en}))),es({onSuccess:er})},ec=()=>T?null:eo(),{id:eu,title:ex,priceWithDiscount:em,price:ev,thumbnailUrl:eg,thumbnailUrls:ep,dominantColor:eZ,user:ej,iconBadges:eh,brandTitle:ef,menuOptions:eb}=v,ey=w||v.url;ey=H?(0,C.hj)(ey):ey;let eC=null;k&&ej.thumbnailUrl&&ej.login&&ej.profileUrl&&(eC={name:ej.login,image:ej.thumbnailUrl,url:ej.profileUrl,alt:""});let e_=(0,u.ZO)(em||ev,A),eI=em?(0,u.ZO)(ev,A):null,eS=M?null:v.isDraft?{title:"",subtitle:""}:{title:P&&void 0!==v.viewCount?V("item.view_count",{count:v.viewCount},{count:v.viewCount}):v.sizeTitle,subtitle:P?V("item.favourite_count",{count:v.favouriteCount},{count:v.favouriteCount}):v.brandTitle},ew=V("item.a11y.url_title",{title:ex,price:e_,brand:(null==eS?void 0:eS.subtitle)||V("item.a11y.no_brand"),size:(null==eS?void 0:eS.title)||V("item.a11y.no_size")}),ek=S||`product-item-id-${eu}`;return(0,n.jsx)(Z.Z,{id:eu,url:z?void 0:ey,urlTitle:ew,alt:ex,price:e_,oldPrice:eI,image:eg,imageColor:eZ,imagesExperimental:$?ep:void 0,onClick:_,owner:eC,favourite:function(){if(!ee)return;let e=V(en?"item.a11y.favorited":"item.a11y.not_favorited"),t=V(en?"item.a11y.unfavourite":"item.a11y.favourite",{count:el},{count:el});return{favourited:en,count:el,ariaIcon:{"aria-label":Y?t:e},onClick:ed}}(),renderFavourite:X&&ea?g:void 0,description:eS,renderFooter:I,status:ec(),badge:(()=>{if(T){let e=eo();if(e)return e}if(!v.badge)return null;let{theme:e,body:t}=v.badge;return{theme:e,content:t}})(),secondaryBadgeExperimental:function(){if(v.user.isBusiness&&!B)return{content:V("business.badge")}}(),bumpText:!W&&(!ec()&&v.isPromoted?(0,n.jsx)("span",{"data-testid":"bump-badge",children:V("item.status.bumped")}):null),testId:ek,renderBreakdownExperimental:(()=>{let{serviceFee:e,id:t,price:i,totalItemPrice:l,user:s,priceWithDiscount:a}=v;return ei?(0,n.jsx)(p.Z,{itemId:t,itemPrice:a||i,serviceFee:e,totalItemPrice:l,isSellerBusiness:!!s.isBusiness,shouldTrimTitle:!0,shouldMinimiseTitle:!0}):null})(),imagesExperimentalOverlayDisabled:O,imageRatio:E,informationCellCssClasses:R,iconBadges:eh,brandTitle:ef,menuOptions:eb})}},29633:function(e,t,i){i.d(t,{Z:function(){return d}});var n=i(35250),l=i(70079),s=i(43474),a=i(14899),o=i(29500);let r=e=>{let{children:t,closeOnOutsideClick:i,onClick:o}=e,[r,d]=(0,l.useState)(!1),c=(0,l.useRef)(null),u=(0,l.useCallback)(()=>{d(e=>!e)},[]),x=(0,l.useCallback)(()=>{d(!1)},[]),m=(0,l.useMemo)(()=>({toggle:u,close:x,isVisible:r,containerRef:c}),[x,u,r,c]);return(0,n.jsx)(a.K.Provider,{value:m,children:(0,n.jsx)(s.Z,{isDisabled:!i,onOutsideClick:()=>{i&&r&&x()},children:(0,n.jsx)("div",{onClick:o,ref:c,children:t})})})};r.Menu=e=>{let{children:t}=e,{isVisible:i,close:n}=(0,l.useContext)(a.K);return t({isVisible:i,close:n})},r.MenuItem=e=>{let{id:t,onClick:i,...s}=e,{close:r}=(0,l.useContext)(a.K);return(0,n.jsx)(o.Z,{type:o.Z.Type.Navigating,...s,onClick:e=>{null==i||i(t,e),r()}})},r.Toggle=e=>{let{children:t}=e,{toggle:i,isVisible:n}=(0,l.useContext)(a.K);return t({toggle:i,isVisible:n})};var d=r},14899:function(e,t,i){i.d(t,{K:function(){return s}});var n=i(91530),l=i.n(n);let s=(0,i(70079).createContext)({toggle:l(),close:l(),isVisible:!1,containerRef:null})},48484:function(e,t,i){var n,l,s=i(70079),a=i(3283),o=i(44975),r=i(8951),d=i(61037),c=i(16237),u=i(30930);(n=l||(l={})).Item="item",n.User="user",n.Brand="brand";let x=e=>{let{type:t,entityId:i,isFavourite:n,count:l=0}=e,x=(0,a.I0)(),m=(0,u.Z)(),v=(0,a.v9)(r.j3)||!1,[g,p]=(0,s.useState)(n),Z=l+Number(g)-Number(n),[j,h]=(0,s.useState)(!1);async function f(e){!("errors"in await (0,o.EZ0)({type:t,entityId:i}))&&m()&&(p(t=>{var i;let n=!t;return null==e||null===(i=e.onSuccess)||void 0===i||i.call(e,n),n}),h(!0))}(0,s.useEffect)(()=>{p(n)},[n]);let b=(0,c.Z)(f,250);return{isFavourite:g,favouriteCount:Z,toggleFavourite:v?b:function(){x(d.Nw.openAuthModal())},hasFavouritedChanged:j}};x.Type=l,t.Z=x},29962:function(e,t,i){i.d(t,{l:function(){return n}});function n(e,t){if(e)return t?`${e}--${t}`:e}}}]);
//# sourceMappingURL=8913-de640dc83a713788.js.map