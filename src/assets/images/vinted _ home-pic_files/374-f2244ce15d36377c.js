"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[374],{60133:function(e,t,i){var n=i(35250),s=i(62278),l=i(29500),r=i(66494),a=i(49370),o=i(93766),c=i(65529),d=i(79852),x=i(82599),u=i(65278),m=i(51585),Z=i(25554),p=i(81518),g=i(14475),y=i(57158),j=i(66835),f=i(28067),h=i(14217),_=i(31697),b=i(18338),v=i(79699);t.Z=e=>{let{isVisible:t,sellerIsBusinessUser:i,onClose:I}=e,{track:S}=(0,y.Z)(),k=(0,j.Z)("assets/buyer-protection"),w=i?"checkout.buyer_protection_info_business":"checkout.buyer_protection_info",N=(0,g.Z)(w),C=k(i?"buyer-protection-pro-shield.svg":"buyer-protection-shield.svg");function T(){S((0,h.Q5)({screen:v.l.EscrowFeeEducationModal,target:b.U.CloseScreen})),I()}function F(){S((0,h.Q5)({screen:v.l.EscrowFeeEducationModal,target:b.U.RefundPolicyLink}))}function z(e){let t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.Z.Color.GreyscaleLevel3;return!i&&["refund_updated","refund_and_return"].includes(e)&&(t={"refund-policy-link":e=>(0,n.jsx)("a",{href:f.xoC,target:"_blank",onClick:F,"data-testid":"refund-policy-link",children:e})}),(0,n.jsx)(l.Z,{styling:l.Z.Styling.Tight,prefix:a&&(0,n.jsx)(s.Z,{name:a,testId:`content-icon-${a.Title}`,color:o,aria:{"aria-hidden":"true"}}),title:(0,n.jsx)(r.Z,{text:N(`${e}.title`),type:r.Z.Type.Title,testId:`content-title-${e}`}),body:(0,n.jsx)("div",{className:"buyer-protection-modal",children:(0,n.jsx)(r.Z,{text:N(`${e}.description`,t),html:!0,testId:`content-description-${e}`})})},e)}return(0,n.jsxs)(c.Z,{show:t,testId:"service-fee-modal",children:[(0,n.jsx)(d.Z,{right:(0,n.jsx)(x.IM,{styling:x.IM.Styling.Flat,onClick:T,icon:(0,n.jsx)(s.Z,{name:p.Z,testId:"icon-x"}),inline:!0,testId:"service-fee-modal-navigation-close"})}),(0,n.jsx)("div",{className:"modal-contained-content u-ui-padding-horizontal-x2-large","data-testid":"service-fee-modal-content",children:function(){let e=i?f.cS4:f.ozz;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"u-text-center",children:[(0,n.jsx)(a.U,{src:C,size:a.U.Size.XLarge,alt:""}),(0,n.jsx)(o.Z,{size:o.Z.Size.Large}),(0,n.jsx)(r.Z,{text:N("title"),type:r.Z.Type.Heading}),(0,n.jsx)("a",{href:e,target:"_blank",rel:"noreferrer","data-testid":"service-fee-help-link",children:(0,n.jsx)(r.Z,{text:N("service_fee_link_title"),clickable:!0,alignment:r.Z.Alignment.Center,type:r.Z.Type.Subtitle,as:"p"})})]}),(0,n.jsx)("div",{className:"u-ui-padding-vertical-x-large",children:(0,n.jsx)(_.Z,{separator:(0,n.jsx)(o.Z,{size:o.Z.Size.XLarge}),children:"checkout.buyer_protection_info"===w?[z("refund_updated",u.Z,s.Z.Color.Primary),z("secure_payments_updated",m.Z,s.Z.Color.Primary),z("full_support_updated",Z.Z,s.Z.Color.Primary)]:[z("money_back",u.Z,s.Z.Color.Primary),z("secure_payments",m.Z,s.Z.Color.Primary),z("full_support",Z.Z,s.Z.Color.Primary)]})})]})}()}),(0,n.jsx)(l.Z,{children:(0,n.jsx)(x.IM,{text:N("got_it"),styling:x.IM.Styling.Filled,onClick:T,testId:"service-fee-modal-close"})})]})}},91366:function(e,t,i){i.d(t,{Z:function(){return E}});var n=i(35250),s=i(70079),l=i(79852),r=i(82599),a=i(20118),o=i(66494),c=i(65529),d=i(29500),x=i(55657),u=i(81518),m=i(94440),Z=i(38206),p=i(65507),g=i(14475),y=i(88581),j=i(44975),f=i(1157),h=i(49370),_=e=>{let{itemPrice:t,itemTitle:i,itemPhotoSrc:s}=e;return(0,n.jsx)(d.Z,{styling:d.Z.Styling.Narrow,prefix:s&&(0,n.jsx)("div",{"data-testid":"item-details-img",children:(0,n.jsx)(h.U,{src:s,styling:h.U.Styling.Rounded,ratio:h.U.Ratio.Square,size:h.U.Size.Medium})}),title:(0,n.jsx)("div",{className:"c-text--truncated",children:i}),body:(0,n.jsx)(o.Z,{text:t,type:o.Z.Type.Title,theme:"amplified",as:"div"})})},b=i(62278),v=i(24391),I=i(3283),S=i(42491),k=i(4948),w=e=>{let{shippingFee:t,isItemOwner:i}=e,s=(0,g.Z)("item_price_breakdown_detailed.shipping_info"),l=(0,I.v9)(S.K),r=!!(null==t?void 0:t.maxDiscountPercentage);return t?(0,n.jsx)(d.Z,{styling:d.Z.Styling.Narrow,prefix:(0,n.jsx)(b.Z,{name:v.Z}),title:(0,n.jsxs)("div",{className:"u-flexbox u-align-items-center u-gap-small",children:[s("title"),!i&&r&&(0,n.jsx)(o.Z,{testId:"shipping-details-discount-amount",theme:"warning",text:`${s("percentage_discount",{discount:t.maxDiscountPercentage})}`})]}),body:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:(0,n.jsx)(o.Z,{type:o.Z.Type.Title,theme:"amplified",text:`${s("from_price",{price:(0,k.ZO)(t.finalPrice,l)})}`})}),(0,n.jsx)("div",{children:(0,n.jsx)(o.Z,{text:s("text"),type:o.Z.Type.Subtitle,theme:"muted"})})]})}):(0,n.jsx)(d.Z,{testId:"static-shipping-details",styling:d.Z.Styling.Narrow,prefix:(0,n.jsx)(b.Z,{name:v.Z}),title:s("title"),body:(0,n.jsx)(o.Z,{text:s("text"),type:o.Z.Type.Subtitle,theme:"muted"})})},N=i(86748),C=i(60108),T=i(60133),F=i(14217),z=i(57158),O=i(18338),M=i(79699),P=i(80173),U=i(15394),$=e=>{let{feeTitle:t,prefix:i,infoIcon:s,isOptional:l,escrowFee:r,isItemOwner:a}=e,c=(0,g.Z)("item_price_breakdown_detailed"),x=(0,I.v9)(S.K),{formatDate:u}=(0,U.Z)();if(!r)return null;let{discountPercentage:m,isFree:Z,finalPrice:p,originalPrice:y,discountStartDate:j,discountEndDate:f,lowestPrice30Days:h}=r,_=!a&&!!m;return(0,n.jsx)(d.Z,{styling:d.Z.Styling.Narrow,title:(()=>{let e=Z?`${c("is_free")}`:`(-${m}%)`;return(0,n.jsxs)("div",{className:"u-flexbox u-align-items-center u-gap-small",children:[t,_&&(0,n.jsx)(o.Z,{theme:"warning",text:e}),s]})})(),prefix:i,body:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"u-flexbox u-gap-small",children:[(0,n.jsx)(o.Z,{text:(0,k.ZO)(p,x),type:o.Z.Type.Title,theme:"amplified"}),_&&(0,n.jsx)("div",{className:"u-padding-right-small",children:(0,n.jsx)(o.Z,{theme:"muted",type:o.Z.Type.Subtitle,strikethrough:!0,text:(0,k.ZO)(y,x)})})]}),(_||l)&&(0,n.jsxs)(P.Z,{size:P.Z.Size.Tight,children:[l&&(0,n.jsx)(P.Z.Item,{children:(0,n.jsx)("div",{className:"u-padding-bottom-small",children:(0,n.jsx)(o.Z,{text:c("optional"),type:o.Z.Type.Subtitle,theme:"muted"})})}),_&&(0,n.jsxs)(n.Fragment,{children:[j&&f&&(0,n.jsx)(P.Z.Item,{children:(0,n.jsx)(o.Z,{theme:"muted",type:o.Z.Type.Subtitle,text:c("promotion_period",{dateFrom:u(j,{day:"numeric",month:"short"}),dateTo:u(f,{day:"numeric",month:"short"})})})}),h&&(0,n.jsx)(P.Z.Item,{children:(0,n.jsx)(o.Z,{theme:"muted",type:o.Z.Type.Subtitle,text:c("lowest_price_in_30_days_header",{amount:(0,k.ZO)(h,x)})})})]})]})]})})},L=e=>{let{buyerProtection:t,isSellerBusiness:i,isItemOwner:l,itemId:r}=e,[a,o]=(0,s.useState)(!1),c=(0,g.Z)("item_price_breakdown_detailed"),{track:d}=(0,z.Z)();return t?(0,n.jsx)($,{feeTitle:c(i?"buyer_protection_fee_pro":"buyer_protection_fee"),escrowFee:t,prefix:(0,n.jsx)(b.Z,{name:N.Z}),infoIcon:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{className:"u-flexbox u-align-self-center u-cursor-pointer","data-testid":"item-pricing-details-icon",onClick:()=>{o(!0),d((0,F.Q5)({screen:M.l.PriceBreakdownModal,target:O.U.ServiceFeeInfo,targetDetails:JSON.stringify({item_id:r})}))},type:"button",children:(0,n.jsx)(b.Z,{name:C.Z,color:b.Z.Color.GreyscaleLevel4})}),(0,n.jsx)(T.Z,{isVisible:a,onClose:()=>o(!1),sellerIsBusinessUser:i})]}),isItemOwner:l}):null},B=i(53067),D=i(4413),V=e=>{let{itemVerification:t,isItemOwner:i,itemId:l}=e,[r,a]=(0,s.useState)(!1),o=(0,g.Z)("item_price_breakdown_detailed"),c=(0,I.v9)(S.K),{track:d}=(0,z.Z)();return t?(0,n.jsx)($,{feeTitle:o("item_verification"),escrowFee:t,prefix:(0,n.jsx)(b.Z,{name:B.Z}),infoIcon:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{className:"u-flexbox u-align-items-center u-cursor-pointer",onClick:()=>{a(!0),d((0,F.Q5)({screen:M.l.PriceBreakdownModal,target:O.U.ServiceFeeInfo,targetDetails:JSON.stringify({item_id:l})}))},type:"button",children:(0,n.jsx)(b.Z,{color:b.Z.Color.GreyscaleLevel4,name:C.Z,testId:"item-verification-info-icon"})}),(0,n.jsx)(D.Z,{show:r,verificationFee:(0,k.ZO)(t.finalPrice,c),onClose:()=>a(!1)})]}),isItemOwner:i,isOptional:!0}):null},E=e=>{let{isVisible:t,onClose:i,itemPrice:h,itemTitle:b,itemPhotoSrc:v,escrowFees:I,isSellerBusiness:S,isItemOwner:k,transactionId:N,itemId:C}=e,T=(0,p.Z)(),F=(0,g.Z)("item_price_breakdown_detailed"),{transformedData:z,fetch:O,isLoading:M}=(0,y.Z)(j.tOO,f.k1);(0,s.useEffect)(()=>{!I&&N&&t&&O({transactionId:N})},[I,N,t,O]);let P=I||z,U=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Z,{body:F("breakdown_title"),right:(0,n.jsx)(r.IM,{styling:r.IM.Styling.Flat,iconName:u.Z,inline:!0,onClick:i,aria:{"aria-label":F("actions.a11y.close")},testId:"item-price-breakdown-navigation-close-button"})}),(0,n.jsx)(a.Z,{})]}),$=()=>M?(0,n.jsx)(m.Z,{}):P?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"u-padding-medium",children:[(0,n.jsx)(_,{itemPrice:h,itemTitle:b,itemPhotoSrc:v}),(0,n.jsx)(L,{buyerProtection:P.buyerProtection,isSellerBusiness:S,isItemOwner:k,itemId:C})]}),(0,n.jsx)(a.Z,{}),(0,n.jsxs)("div",{className:"u-padding-medium",children:[(0,n.jsx)(o.Z,{text:F("selected_at_checkout_title"),type:o.Z.Type.Subtitle,as:"label"}),(0,n.jsx)(V,{itemVerification:P.itemVerification,isItemOwner:k,itemId:C}),(0,n.jsx)(w,{shippingFee:P.shipping,isItemOwner:k})]})]}):(0,n.jsx)(Z.Z,{});return T.tabletsUp?(0,n.jsxs)(c.Z,{testId:"detailed-item-price-breakdown",show:t,children:[U(),$(),(0,n.jsx)(d.Z,{styling:d.Z.Styling.Default,children:(0,n.jsx)(r.IM,{text:F("actions.close"),styling:r.IM.Styling.Filled,onClick:i,testId:"item-price-breakdown-close-button"})})]}):(0,n.jsxs)(x.Z,{testId:"detailed-item-price-breakdown",onClose:i,isVisible:t,children:[U(),$()]})}},35577:function(e,t,i){var n=i(35250),s=i(70079),l=i(62278),r=i(60108),a=i(57158),o=i(14475),c=i(60133),d=i(14217),x=i(18338),u=i(7461),m=i(79699);t.Z=e=>{let{itemId:t,isSellerBusiness:i=!1,bundleId:Z=null}=e,p=(0,o.Z)(i?"item_pricing_details_modal.pro":"item_pricing_details_modal.regular"),{track:g}=(0,a.Z)(),[y,j]=(0,s.useState)(!1),f=()=>{Z?g((0,d.Q5)({screen:m.l.BundleSummary,target:x.U.ServiceFeeInfo,targetDetails:JSON.stringify({bundle_id:Z})})):g((0,d.Q5)({target:x.U.ServiceFeeInfo,targetDetails:JSON.stringify({item_id:t})}))},h=()=>{j(!0),f()};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"u-flexbox u-align-self-center u-cursor-pointer","data-testid":"item-pricing-details-icon",role:"button",tabIndex:0,onClick:h,onKeyDown:e=>{(0,u.D)(e,h)},children:(0,n.jsx)(l.Z,{name:r.Z,color:l.Z.Color.GreyscaleLevel4,title:p("title")})}),(0,n.jsx)(c.Z,{isVisible:y,onClose:()=>{j(!1)},sellerIsBusinessUser:i})]})}},4413:function(e,t,i){var n=i(35250),s=i(70079),l=i(3283),r=i(29500),a=i(62278),o=i(66494),c=i(65529),d=i(79852),x=i(82599),u=i(49370),m=i(93766),Z=i(23777),p=i(78474),g=i(90130),y=i(90099),j=i(81518),f=i(32015),h=i(31697),_=i(66835),b=i(14475),v=i(57158),I=i(14217),S=i(42875);t.Z=e=>{let{verificationFee:t,show:i,onClose:k}=e,w=(0,b.Z)("item.authenticity_fee_modal"),{track:N}=(0,v.Z)(),C=(0,_.Z)("/assets/offline-authenticity"),T=(0,l.v9)((0,S.z)("haov_offline_verification_discount"));(0,s.useEffect)(()=>{i&&N((0,I.rn)({target:f.G.PhysicalAuthenticityBuyerModal}))},[i,N]);let F=[{translationId:"auth_center",iconName:Z.Z},{translationId:"check",iconName:p.Z},{translationId:"verified",iconName:g.Z},{translationId:"rejected",iconName:y.Z},{translationId:"includes"},{translationId:"delivery"}],z=C("authenticity-diamond-48.svg",{theme:{dark:"authenticity-diamond-48-dark.svg"}}),O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,n.jsx)(r.Z,{styling:r.Z.Styling.Tight,prefix:t&&(0,n.jsx)(a.Z,{name:t,testId:`content-icon-${t.Title}`,aria:{"aria-hidden":"true"},color:a.Z.Color.GreyscaleLevel4}),title:(0,n.jsx)(o.Z,{text:w(`${e}_title`),type:o.Z.Type.Title,testId:`content-title-${e}`}),body:(0,n.jsx)(o.Z,{text:w(`${e}_body`),testId:`content-description-${e}`})},e)};return(0,n.jsxs)(c.Z,{show:i,testId:"offline-verification-modal",children:[(0,n.jsx)(d.Z,{right:(0,n.jsx)(x.IM,{styling:x.IM.Styling.Flat,onClick:k,icon:(0,n.jsx)(a.Z,{name:j.Z,testId:"icon-x"}),inline:!0,testId:"offline-verification-modal-navigation-close-button"})}),(0,n.jsxs)("div",{className:"modal-contained-content u-ui-padding-horizontal-x2-large","data-testid":"offline-verification-modal-content",children:[(0,n.jsxs)("div",{className:"u-text-center",children:[(0,n.jsx)(u.U,{src:z,size:u.U.Size.XLarge,alt:""}),(0,n.jsx)(m.Z,{size:m.Z.Size.Large}),(0,n.jsx)(o.Z,{text:w("title"),type:o.Z.Type.Heading}),t&&(0,n.jsx)(o.Z,{text:w(T?"fee_with_discount":"fee",{amount:t}),theme:"inherit",type:o.Z.Type.Body,testId:"offline-verification-modal-fee-title",alignment:o.Z.Alignment.Center})]}),(0,n.jsx)("div",{className:"u-ui-padding-vertical-x-large",children:(0,n.jsxs)(h.Z,{separator:(0,n.jsx)(m.Z,{size:m.Z.Size.XLarge}),children:[F.map(e=>{let{translationId:t,iconName:i}=e;return O(t,i)}),(0,n.jsx)(o.Z,{text:w("more"),html:!0,testId:"offline-verification-modal-learn-more"}),(0,n.jsx)(o.Z,{text:w("legal_disclaimer"),type:o.Z.Type.Subtitle,testId:"offline-verification-modal-legal-disclaimer"})]})})]}),(0,n.jsx)(r.Z,{children:(0,n.jsx)(x.IM,{text:w("action.close"),styling:x.IM.Styling.Filled,onClick:k,testId:"offline-verification-modal-close-button"})})]})}},60374:function(e,t,i){i.d(t,{Z:function(){return T}});var n=i(35250),s=i(70079),l=i(3283),r=i(66494),a=i(93766),o=i(62278),c=i(40623),d=i(57328),x=i(14475),u=i(57158),m=i(29500),Z=i(82599),p=i(79852),g=i(20118),y=i(5253),j=i(65529),f=i(55657),h=i(81518),_=i(35577),b=i(65507),v=i(14217),I=i(18338),S=i(79699),k=e=>{let{isVisible:t,itemId:i,itemPrice:s,isSellerBusiness:l,serviceFee:o,onClose:c}=e,d=(0,x.Z)("item_price_breakdown_modal"),k=(0,b.Z)(),{track:w}=(0,u.Z)(),N=l?"buyer_protection_fee_pro":"buyer_protection_fee",C=()=>{w((0,v.Q5)({screen:S.l.PriceBreakdownModal,target:I.U.CloseScreen})),c()},T=()=>(0,n.jsx)(m.Z,{styling:m.Z.Styling.Narrow,children:(0,n.jsx)(Z.IM,{text:d("actions.close"),styling:Z.IM.Styling.Filled,onClick:C,testId:"item-price-breakdown-close-button"})}),F=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.Z,{right:(0,n.jsx)(Z.IM,{styling:Z.IM.Styling.Flat,iconName:h.Z,inline:!0,onClick:C,aria:{"aria-label":d("actions.a11y.close")},testId:"item-price-breakdown-navigation-close-button"}),body:d("breakdown_title")}),(0,n.jsx)(g.Z,{}),(0,n.jsxs)(y.Z,{styling:y.Z.Styling.Narrow,children:[(0,n.jsx)(m.Z,{title:d("item_price"),suffix:s,styling:m.Z.Styling.Narrow,testId:"item-price-breakdown-price-cell"}),(0,n.jsx)(m.Z,{suffix:o,styling:m.Z.Styling.Narrow,body:(0,n.jsxs)("div",{className:"u-flexbox",children:[(0,n.jsx)(r.Z,{text:d(N),theme:"amplified",bold:!0}),(0,n.jsx)(a.Z,{size:a.Z.Size.Small,orientation:a.Z.Orientation.Vertical}),(0,n.jsx)(_.Z,{itemId:i,isSellerBusiness:l})]}),testId:"item-price-breakdown-service-fee-cell"}),(0,n.jsx)(m.Z,{styling:m.Z.Styling.Narrow,children:(0,n.jsx)(r.Z,{text:d("shipping_info"),type:r.Z.Type.Subtitle,testId:"item-price-breakdown-shipping-note"})}),(0,n.jsxs)("div",{className:"u-tablets-up-only",children:[(0,n.jsx)(a.Z,{}),T()]})]})]});return k.tabletsUp?(0,n.jsx)(j.Z,{show:t,children:F()}):(0,n.jsx)(f.Z,{isVisible:t,onClose:C,children:F()})},w=i(91366),N=i(42491),C=i(4948),T=e=>{let{itemId:t,totalItemPrice:i,itemPrice:m,serviceFee:Z,isItemOwner:p,isSellerBusiness:g,shouldTrimTitle:y,shouldMinimiseTitle:j,onModalOpen:f,onModalClose:h,detailedBreakdown:_}=e,[b,S]=(0,s.useState)(!1),T=(0,x.Z)("item.includes_buyer_protection"),{track:F}=(0,u.Z)(),z=(0,l.v9)(N.K),O=(0,C.ZO)(m,z),M=(null==Z?void 0:Z.amount)?(0,C.ZO)(Z,z):null,P=(null==i?void 0:i.amount)?(0,C.ZO)(i,z):null,U=g?"_pro":"",$=()=>{F((0,v.Q5)({target:I.U.PricingDetails,targetDetails:JSON.stringify({item_id:t})})),b?null==h||h():null==f||f(),S(e=>!e)},L=()=>j?r.Z.Type.Caption:r.Z.Type.Subtitle;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"u-flexbox u-align-items-flex-start",children:(0,n.jsxs)("div",{className:"u-cursor-pointer u-flexbox u-align-items-center u-flex-wrap",onClick:$,role:"button",tabIndex:0,children:[(0,n.jsx)(r.Z,{clickable:!0,underline:!1,text:T(y||p?`title_trimmed${U}`:`title${U}`,{price:P}),type:L(),testId:g?"service-fee-included-title-pro":"service-fee-included-title",as:"span"}),(0,n.jsx)(a.Z,{size:a.Z.Size.XSmall,orientation:a.Z.Orientation.Vertical}),(0,n.jsx)(o.Z,{color:o.Z.Color.Primary,name:j?c.Z:d.Z,testId:"service-fee-included-icon"}),p&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Z,{size:a.Z.Size.XSmall,orientation:a.Z.Orientation.Vertical}),(0,n.jsx)(r.Z,{clickable:!0,underline:!1,text:T("price_for_buyer"),type:L()})]})]})}),_?(0,n.jsx)(w.Z,{isVisible:b,itemPrice:O,onClose:$,isSellerBusiness:g,isItemOwner:!!p,itemId:t,..._}):(0,n.jsx)(k,{itemId:t,isVisible:b,isSellerBusiness:g,itemPrice:O,serviceFee:M,onClose:$})]})}}}]);
//# sourceMappingURL=374-f2244ce15d36377c.js.map