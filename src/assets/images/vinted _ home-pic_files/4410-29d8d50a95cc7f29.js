"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4410],{68092:function(e,t,n){n.d(t,{X:function(){return i}});var r=n(35250);let i=e=>(t,n)=>i=>{let{_layout:o,...a}=i;return(0,r.jsx)(e,{...o,...n,children:(0,r.jsx)(t,{...a})})}},50225:function(e,t,n){var r=n(35250),i=n(70079),o=n(3283),a=n(98189),s=n(46062),u=n(22962);t.Z=e=>{let{type:t,render:n,accessChannel:c}=e,l=(0,o.I0)(),d=(0,o.v9)(e=>u.mA(e,t));if((0,i.useEffect)(()=>{l(s.L({type:t}))},[t,l]),!(null==d?void 0:d.url))return null;let f=c?(0,a.Iq)(d.url,{access_channel:c}):d.url;return(0,r.jsx)(r.Fragment,{children:n(f,d.id)})}},62214:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(35250),i=n(70079),o=n(65529),a=n(81717),s=n(3283),u=n(18294),c=n(88581),l=n(44975),d=n(8951),f=n(41938),h=n(22640),p=n(33664),E=n(7770),I=e=>{let{entityId:t,onCodeSent:n,onError:o}=e,a=(0,s.v9)(d.n5),I=async e=>(0,l.m3m)({userId:e.userId,entityId:e.entityId,entityType:h.R.EntityHash,fingerprint:await (0,E.f)()}),{fetch:m,transformedData:g,isLoading:R,error:N}=(0,c.Z)(I,f.T);return((0,i.useEffect)(()=>{a&&t&&m({userId:a,entityId:t})},[m,a,t]),(0,i.useEffect)(()=>{N&&o()},[N,o]),R||!g)?(0,r.jsx)("div",{className:"u-flexbox u-justify-content-center",children:(0,r.jsx)(u.Z,{size:u.Z.Size.XLarge,testId:"global-two-FA-loader"})}):(0,r.jsx)("div",{className:"narrow-container",children:(0,r.jsx)(p.Z,{verificationType:h.R.EntityHash,maskedInfo:g.userMaskedInfo,nextResendAvailableIn:g.nextResendAvailableIn,showResend:g.showResendOption,twoFAId:g.id,onCodeSent:n})})},m=()=>{let[e,t]=(0,i.useState)(null);return((0,i.useEffect)(()=>{let e=e=>{t(e.detail)};return window.addEventListener("twoFARequired",e),()=>{window.removeEventListener("twoFARequired",e)}},[]),e)?(0,r.jsx)(o.Z,{show:!!e,closeOnOverlay:!0,defaultCallback:()=>{t(null),window.dispatchEvent(new Event(a.nC))},testId:"global-2fa-modal",children:(0,r.jsx)(I,{entityId:e,onCodeSent:()=>{t(null),window.dispatchEvent(new Event(a.Xn))},onError:()=>{t(null)}})}):null}},4080:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(35250),i=n(79200);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";return e?(0,r.jsx)(i.Z,{text:e,theme:t}):null}},53677:function(e,t,n){n.d(t,{ot:function(){return i},ZP:function(){return _}});var r,i,o=n(35250),a=n(70079),s=n(3283),u=n(44275),c=n.n(u),l=n(99581),d=n(86496),f=n(3997),h=n.n(f),p=n(14986);class E extends a.Component{render(){let{position:e}=this.props;if(e===p.E.Parent)return(0,o.jsx)("div",{className:"u-z-index-notification",children:(0,o.jsx)(d.Z,{...this.props})});let t=h()("u-z-index-notification",{"u-sticky-bottom u-ui-padding-bottom-x-large":e===p.E.Bottom,"u-fixed-top u-ui-padding-top-x-large":e===p.E.Top,"u-fixed-top u-right u-ui-padding-top-x5-large":e===p.E.TopRight});return l.createPortal((0,o.jsx)("div",{className:"u-flexbox u-align-items-center u-justify-content-center",children:(0,o.jsx)("div",{className:t,children:(0,o.jsx)(d.Z,{...this.props})})}),document.body)}}E.defaultProps={position:p.E.Bottom};var I=n(28841);let m=e=>e[I.A],g=e=>m(e)[0];var R=n(45537);let N={showNotification:R.Nw.showNotification,hideNotification:R.Nw.hideNotification},S=(0,s.$j)(e=>({currentlyShowingNotificationId:g(e)}),N);(r=i||(i={})).CloseButtonClick="close_button_click",r.BodyClick="body_click",r.Auto="auto";class A extends a.Component{componentDidMount(){this.showNotification()}componentWillUnmount(){this.hideNotification()}render(){return this.props.currentlyShowingNotificationId===this.state.id?(0,o.jsx)(E,{...this.props,onClose:this.handleNotificationClose}):null}constructor(...e){super(...e),this.state={id:c().v4()},this.hideNotification=()=>this.props.hideNotification({id:this.state.id}),this.showNotification=()=>this.props.showNotification({id:this.state.id}),this.handleNotificationClose=e=>{var t,n;this.hideNotification(),null===(t=(n=this.props).onNotificationClose)||void 0===t||t.call(n,e)}}}var _=S(A)},67367:function(e,t,n){var r,i,o,a,s,u,c,l,d,f;n.d(t,{Gg:function(){return r},Jt:function(){return s},WU:function(){return a},gH:function(){return h},m2:function(){return u}}),(c=r||(r={})).Password="password",c.Assertion="assertion",(l=i||(i={})).PublicUser="public user",l.PublicUserAdmin="public user admin",(o||(o={})).Bearer="bearer",(d=a||(a={})).Facebook="facebook",d.Google="google",d.Apple="apple",d.CrossPortal="cross_portal",d.Vinted="vinted",(s||(s={})).Connected="connected",(f=u||(u={})).Success="AppleIDSignInOnSuccess",f.Failure="AppleIDSignInOnFailure";let h="email"},86978:function(e,t,n){var r,i,o,a;n.d(t,{Z:function(){return r}}),(o=r||(r={})).NoAccessToEmail="HOW-DO-I-CHANGE-OR-CONFIRM-MY-EMAIL",o.NoAccessToOldEmail="HOW_TO_CHANGE_EMAIL_WITHOUT_ACCESS_TO_OLD_EMAIL",o.SmsVerfication="SMS-VERIFICATION",o.PhoneVerification="PHONE-VERIFICATION",o.PhoneChange="PHONE-CHANGE",o.PendingBalance="WHAT-DOES-PENDING-PAYMENT-MEAN",o.PaymentFailed="PAYMENT-FAILED-TX",o.Donations="DONATION",o.KycVerificationProblems="KYC-VERIFICATION-PROBLEMS",o.PortalMerge="LT-MERGER-DAY-COMMS",o.MakingGoodPhoto="MAKING-A-GOOD-PHOTO",o.BusinessRow="B2C-ROW",o.InsufficientBalance="FMR-CONTACT",o.RequestDataExport="REQUEST-DATA-EXPORT",o.PushUp="HOW-DOES-BUMPS-WORK",o.ClosetPromotion="HOW-DOES-CLOSET-PROMO-WORK",o.CrossCurrency="CROSS-CURRENCY",o.SetCorrectPrice="HOW-TO-PRICE",o.WriteGoodItemDescription="HOW-TO-WRITE-A-GOOD-ITEM-DESCRIPTION",o.OfflineVerification="HAOV-ITEM-VERIFICATION-SELLING",o.SpamPhishing="SPAM_PHISHING",o.BlockingMember="HOW-DO-I-BLOCK-ANOTHER-MEMBER",o.VintedGuide="VINTED-GUIDE",o.HowToVerifyEmailCode="EMAIL-VERIFICATION",o.UploadingAnItem="UPLOADING-AN-ITEM",o.ShippingSeller="SHIPPING-SELLER",o.VintedWallet="VINTED-WALLET",o.TrackDelivery="TRACK-DELIVERY",o.IsItFreeToSell="IS-IT-FREE-TO-SELL",o.FindingAnItem="FINDING-AN-ITEM",o.BuyingStepByStep="BUYING-STEP-BY-STEP",o.ShippingBuyer="SHIPPING-BUYER",o.BuyerProtection="BUYER-PROTECTION",o.IhaiRefundPolicy="IHAI-REFUND-POLICY",o.HelpCenterRoot="ROOT",o.MembersFeedback="MEMBERS-FEEDBACK",o.AddPhoneNumber="PHONE-VERIFICATION-NOT-WORKING",o.LeavingFeedbackForBuyer="LEAVING-FEEDBACK-FOR-BUYER",o.CantLogin="CANT-LOG-IN",o.Collection="VAS-FEATURED-COLLECTION",o.AccountStaff="PRO-ACCOUNT-SHARING",o.TaxpayerReportingMistakeSeller="DAC7-REPORTING-MISTAKE-SELLER",o.DsaLegalRequirements="DSA-B2C-OBLIGATIONS",o.Dac7Reporting="DAC7-REPORTING",(a=i||(i={}))[a.WrongSize=467]="WrongSize",a[a.DamagedItem=469]="DamagedItem",a[a.WrongItem=470]="WrongItem",a[a.WrongSizeReturn=1044]="WrongSizeReturn",a[a.DamagedItemReturn=1046]="DamagedItemReturn",a[a.WrongItemReturn=1047]="WrongItemReturn"},42458:function(e,t,n){n.d(t,{GR:function(){return g},Jc:function(){return N},So:function(){return S},TX:function(){return I},a$:function(){return m},c0:function(){return A},eC:function(){return R},mI:function(){return _}});var r=n(26841),i=n(91530),o=n.n(i),a=n(55948),s=n(89366),u=n(85511),c=n(93355),l=n(35711),d=n(12370),f=n(19280),h=n(63081);let p=new l.Z({},[d.jN,d.ud,d.Ch,e=>e.interceptors.response.use(async e=>{var t;let n=e.data.access_token||(null===(t=e.data.auth_token)||void 0===t?void 0:t.access_token);if(!n)return Promise.reject(Error("Token was not provided"));try{let t=await r.Z.get("/member/general/session_from_token",{headers:{Authorization:`Bearer ${n}`}});if((0,f.YB)(a.Dr.name,"1",a.Dr.maxAge),t.data&&"redirect_to"in t.data&&t.data.redirect_to)return(0,h.ru)(t.data.redirect_to),await new Promise(o());return e}catch(e){return e.code=u.Q.SessionFromTokenError,Promise.reject(e)}},e=>Promise.reject(e))]),E=r.Z.create();async function I(){try{let e=await E.post("/member/general/logout");return(0,f.YB)(a.Dr.name,"1",a.Dr.maxAge),(0,f.kT)(a.S7),`${e.status}`.startsWith("2")}catch{return!1}}function m(e){let{realName:t,login:n,email:r,password:i,agreeRules:o,subscribeToNewsletter:a=!1,fingerprint:u,uuid:c}=e;return p.post(`${s.Lt}/users`,{user:{real_name:t,login:n,email:r,password:i,agree_rules:o,user_settings:{is_newsletter_subscriber:a}},fingerprint:u,uuid:c})}function g(e){let{token:t,login:n,email:r,subscribeToNewsletter:i=!1,realName:o,fingerprint:a}=e;return p.post(`${s.Lt}/facebook_users`,{fb_access_token:t,user:{login:n,real_name:o,email:r,user_setting:{is_newsletter_subscriber:i}},fingerprint:a})}function R(e){let{token:t,login:n,email:r,subscribeToNewsletter:i=!1,realName:o,fingerprint:a}=e;return p.post(`${s.Lt}/google_user`,{id_token:t,user:{login:n,real_name:o,email:r,user_setting:{is_newsletter_subscriber:i}},fingerprint:a})}function N(e){let{token:t,login:n,email:r,subscribeToNewsletter:i=!1,realName:o,fingerprint:a}=e;return p.post(`${s.Lt}/apple_user`,{id_token:t,user:{login:n,real_name:o,email:r,user_setting:{is_newsletter_subscriber:i}},fingerprint:a})}function S(e){return p.post("/oauth/token",{client_id:"web",scope:"user",...(0,c.tP)(e)})}function A(e){let{email:t}=e;return p.post(`${s.Lt}/users/reset_password`,{email:t})}function _(e){let{isGod:t}=e;return p.post(`${s.Lt}/generate_random_user`,{is_god:t})}d.jN(E)},6909:function(e,t,n){var r=n(70079);let i="dd_response_passed";t.Z=e=>{(0,r.useEffect)(()=>(window.addEventListener(i,e),()=>{window.removeEventListener(i,e)}),[e])}},88581:function(e,t,n){var r=n(70079),i=n(30930);t.Z=(e,t)=>{let n=(0,i.Z)(),[o,a]=(0,r.useState)(),[s,u]=(0,r.useState)(),[c,l]=(0,r.useState)(!1),[d,f]=(0,r.useState)(),h=async function(){let r;for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];l(!0);let c=await e(...o);return n()?"object"==typeof c&&null!=c&&"errors"in c?(f(c),l(!1),{error:c,data:void 0,transformedData:void 0}):(t&&u(r=t(c)),a(c),l(!1),{error:void 0,data:c,transformedData:r}):{error:void 0,data:void 0,transformedData:void 0}};return{data:o,transformedData:s,isLoading:c,error:d,fetch:(0,r.useRef)(h).current}}},23431:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(15394),i=n(2423),o=n.n(i),a=n(91882),s=n(14475);let u={required:"errors.blank"};function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=(0,r.Z)(),i=(0,s.Z)();return function(r,s){let c=o()(e,r);if(!c)return null;let{type:l,message:d}=c,f=`${t}.${(0,a.fu)(r)}.errors.${(0,a.fu)(l)}`;return d||((null==s?void 0:s[l])?s[l]:u[l]&&!n.messages[f]?i(u[l],{field:i(`${t}.${(0,a.fu)(r)}.title`)}):i((0,a.fu)(f)))}}},30930:function(e,t,n){var r=n(70079);t.Z=function(){let e=(0,r.useRef)(!1),t=(0,r.useCallback)(()=>e.current,[]);return(0,r.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),t}},33664:function(e,t,n){var r=n(35250),i=n(70079),o=n(48764),a=n(3283),s=n(29500),u=n(66494),c=n(93766),l=n(62393),d=n(82599),f=n(58367),h=n(20118),p=n(74311),E=n(8951),I=n(63081),m=n(98189),g=n(7770),R=n(14217),N=n(44975),S=n(42458),A=n(53677),_=n(50225),v=n(28067),T=n(81717),O=n(86978),C=n(79699),w=n(67367),y=n(14475),x=n(57158),P=n(23431),b=n(6909),k=n(4080),L=n(22640);t.Z=e=>{let{verificationType:t,controlCode:n,showResend:D,nextResendAvailableIn:j,maskedInfo:Z,maskedNumber:M,twoFAId:F,onCodeSent:B,refUrl:H,redirectUrl:G}=e,W=(0,y.Z)("user.two_factor_verification"),{track:V}=(0,x.Z)(),U=(0,a.v9)(E.n5),{register:$,handleSubmit:Y,getValues:z,setError:K,formState:{errors:q,isSubmitting:X}}=(0,o.cI)(),[J,Q]=(0,i.useState)(j),[ee,et]=(0,i.useState)(D),[en,er]=(0,i.useState)(!1),[ei,eo]=(0,i.useState)(!0),ea=(0,i.useRef)(),es=(0,P.Z)(q),eu=t===L.R.Phone?C.l.PhoneVerificationCheck:C.l.TwoFactorAuthentication;(0,i.useEffect)(()=>{V((0,R.qv)({screen:eu}))},[V,eu]);let ec=(0,i.useCallback)(()=>{ea.current=setInterval(()=>{Q(e=>e-1)},1e3)},[]);(0,i.useEffect)(()=>{ea.current&&J<=0&&clearInterval(ea.current)},[J]),(0,i.useEffect)(()=>(ec(),()=>{ea.current&&clearInterval(ea.current)}),[ec]);let el=async()=>{try{let e;let r=z("code");if(t===L.R.Login){if(!n)return;e=await (0,N.gr2)({controlCode:n,code:r,fingerprint:await (0,g.f)()})}else{if(!U)return;e=await (0,N.WRJ)({userId:U,id:F,code:r,fingerprint:await (0,g.f)()})}if("errors"in e)throw Error(e.errors.toString()||"Error while resending");Q(e.next_resend_available_in),et(e.show_resend_option),ec()}catch(e){et(!1),er(!0)}},ed=()=>{switch(t){case L.R.BankAccount:H&&G&&(0,I.ru)(`${H}?${(0,m.Kf)({ref_url:G})}`);break;case L.R.Checkout:case L.R.EntityHash:null==B||B()}},ef=e=>{K("code",{type:"manual",message:e})},eh=async e=>{let{code:r}=e;try{switch(t){case L.R.Login:{if(!n)return;let e={grantType:w.Gg.Password,controlCode:n,verificationCode:r,passwordType:"two_factor_challenge_code",isTrustedDevice:ei,fingerprint:await (0,g.f)()},t=await (0,S.So)(e);if("errors"in t){ef(t.message||"");return}(0,I.ru)(H||v.mYc);break}case L.R.BankAccount:case L.R.Checkout:case L.R.EntityHash:{if(!U)return;let e=await (0,N.kPm)({userId:U,id:F,code:r,fingerprint:await (0,g.f)()});if("errors"in e){let t=e.errors[0];ef(t.value);return}ed();break}case L.R.Phone:{if(!U||!M)return;let e=await (0,N.V0r)({userId:U,code:r,phoneNumber:M,fingerprint:await (0,g.f)()});if("errors"in e){let t=e.errors[0];ef(t.value);return}H&&(0,I.ru)(H)}}}catch(e){var i;ef((null===(i=e.response)||void 0===i?void 0:i.data.errors)&&e.response.data.errors.length&&e.response.data.errors[0])}};(0,b.Z)(()=>{Y(eh)()});let ep=e=>(0,r.jsx)(p.Z,{styling:p.Z.Styling.Narrow,alignment:p.Z.Alignment.Center,text:e});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{body:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Z,{text:W("title"),type:u.Z.Type.Heading,alignment:u.Z.Alignment.Center,width:u.Z.Width.Parent}),(0,r.jsx)(c.Z,{size:c.Z.Size.Large}),(0,r.jsx)("span",{className:"u-text-wrap",children:W("body",{phone_number:(0,r.jsx)(u.Z,{text:Z||M,bold:!0,theme:"amplified"})})})]})}),(0,r.jsxs)("form",{onSubmit:Y(eh),children:[(0,r.jsx)(l.M,{...$("code"),type:l.M.Type.Number,validation:(0,k.Z)(es("code")),placeholder:W("placeholder")}),t!==L.R.Login?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{title:W("trusted_device.title"),body:W("trusted_device.body"),suffix:(0,r.jsx)(f.F,{testId:"is-trusted-device",name:"isTrustedDevice",checked:ei,onChange:()=>{eo(e=>!e)}})}),(0,r.jsx)(h.Z,{})]}),(0,r.jsx)(s.Z,{children:(0,r.jsx)(d.IM,{styling:d.IM.Styling.Filled,text:W("continue"),type:d.IM.Type.Submit,isLoading:X})})]}),(()=>{if(!ee)return null;let e=J.toString().padStart(2,"0");return(0,r.jsx)(r.Fragment,{children:ep(J>0?W("resend_counter",{seconds_left:e}):(0,r.jsx)(d.IM,{styling:d.IM.Styling.Flat,size:d.IM.Size.Small,inline:!0,onClick:el,text:W("resend_link")}))})})(),ep(W("note",{contact_us:(0,r.jsx)(_.Z,{type:O.Z.SmsVerfication,accessChannel:T.Si.ProductLink,render:e=>(0,r.jsx)("a",{href:e,target:"_blank",rel:"noreferrer",children:W("contact_us")})})})),en?(0,r.jsx)(A.ZP,{body:W("resend_error")}):null]})}},22640:function(e,t,n){var r,i;n.d(t,{R:function(){return r}}),(i=r||(r={})).BankAccount="bank_account",i.Checkout="checkout",i.Login="login",i.Phone="phone",i.EntityHash="EntityHash"},14986:function(e,t,n){var r,i,o,a;n.d(t,{E:function(){return i},g:function(){return r}}),(o=r||(r={})).None="none",o.Decimal="decimal",o.Numeric="numeric",o.Telephone="tel",o.Search="search",o.Email="email",o.Url="url",(a=i||(i={}))[a.Bottom=0]="Bottom",a[a.Top=1]="Top",a[a.TopRight=2]="TopRight",a[a.Parent=3]="Parent"}}]);
//# sourceMappingURL=4410-29d8d50a95cc7f29.js.map